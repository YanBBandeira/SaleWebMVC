@model IEnumerable<SalesWebMVC.Models.ViewModels.ProfilesIndexViewModel>;

@{
    ViewData["Title"] = "Profiles";
}

<div class="row">
    <div class="col-10">
        <h1 class="text-primary-emphasis">@ViewData["Title"]</h1>
    </div>
    <div class="col-2">
        <a class="btn btn-lg btn-success float-end" asp-action="Create">Create New</a>
    </div>
</div>
<hr />
@if (TempData["Error"] != null)
{
    <div class="alert alert-danger">@TempData["Error"]</div>
}


<div class="card mb-3">
    <div class="card-header">
        <button type="button" class="accordion-button" data-bs-toggle="collapse" data-bs-target="#collapseFilter" aria-expanded="false">
            Filter
        </button>
    </div>
    <div id="collapseFilter" class="accordion-collapse collapse">
        <form id="filter-form" asp-action="Filter" method="get">
            <div class="card-body">
                <div class="row">
                    <div class="form-group col-6">
                        <label class="form-label" for="userName">Name</label>
                        <input class="form-control" id="userName" placeholder="Enter user name" type="text" name="UserFullName" />
                    </div>
                    <div class="form-group col-6">
                        <label class="form-label" for="roles">Roles</label>
                        <div class="col-8">
                            <select id="roles" name="roles" multiple class="form-control select2">
                                @foreach (var r in ViewBag.Roles)
                                {
                                    <option value="@r">@r</option>
                                }
                            </select>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-6">
                        <label class="form-label" for="userEmail">E-mail</label>
                        <input class="form-control" id="userEmail" type="email" aria-describedby="emailHelp" placeholder="Enter email" name="email" />
                    </div>
                    <div class="form-group col-6">
                    </div>
                </div>
            </div>
            <div class="card-footer text-end">
                <button id="limparCampos" type="button" class="btn btn-secondary">Clear</button>
                <button type="submit" class="btn btn-primary">Filter</button>

            </div>
        </form>
    </div>
</div>




<div id="table-container">
    <div class="card border-primary p-4">
    @await Html.PartialAsync("_profilesTable",Model)
    </div>
</div>






@section Scripts {
    <script src="~/js/Profiles/Profiles-Index.js" defer>
    </script>
}
